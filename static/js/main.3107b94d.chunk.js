(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[4],{13:function(e,t,n){"use strict";n.r(t);t.default=[{name:"\u041e\u0441\u0435\u043d\u044c 2020",desc:"\u0418\u0432\u0435\u043d\u0442 \u043e\u0441\u0435\u043d\u0438 2020, \u043f\u0440\u0438\u0443\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043a \u0441\u0442\u0430\u0440\u0442\u0443 12.0",href:"/events/2021/event1",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5fca176200fb0.jpg")',color:"white !important"}},{name:"\u0421\u043a\u043e\u0440\u043e",desc:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043d\u0430\u043c\u0435\u0447\u0430\u0435\u0442\u0441\u044f, \u0438 \u0432\u044b, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u0431 \u044d\u0442\u043e\u043c \u0441\u043a\u043e\u0440\u043e \u0443\u0437\u043d\u0430\u0435\u0442\u0435",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5076dc5dac36b.jpg")',color:"white !important"}}]},15:function(e,t,n){e.exports={block:"index_block__2SQ2S",carousel:"index_carousel__34Fi2",element:"index_element__3bGVE"}},32:function(e,t,n){},39:function(e,t,n){var r={"./2021/event1":[16,9,1,0],"./2021/event1/":[16,9,1,0],"./2021/event1/components/story":[26,9,2],"./2021/event1/components/story.js":[26,9,2],"./2021/event1/index":[16,9,1,0],"./2021/event1/index.jsx":[16,9,1,0],"./2021/event1/index.module.css":[41,7,7],"./2021/event1/indexContainer":[27,9,1,0,3],"./2021/event1/indexContainer.js":[27,9,1,0,3],"./FolderFrame.png":[42,9,9],"./FolderFrameSelected.png":[43,9,10],"./Frame.png":[44,9,11],"./eventList":[13,9],"./eventList.js":[13,9]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(c,t[1])}))}c.keys=function(){return Object.keys(r)},c.id=39,e.exports=c},40:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(21),s=n.n(a),i=n(8),o=n(2),l=(n(32),n(7)),u=n(15),d=n.n(u),m=n(13),j=n(1),p=function(e){return Object(j.jsx)("main",{children:Object(j.jsxs)("div",{className:d.a.block,children:[Object(j.jsx)("h1",{children:"\u0418\u0432\u0435\u043d\u0442\u044b"}),Object(j.jsx)(i.b,{to:"".concat(l.a.repo,"/puzzle"),children:"Puzzle"}),Object(j.jsx)("div",{className:d.a.carousel,children:m.default.map((function(e){return Object(j.jsx)(i.b,{to:e.href?"".concat(l.a.repo).concat(e.href):"".concat(l.a.repo,"/"),children:Object(j.jsxs)("div",{className:d.a.element,style:e.style&&e.style,children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("p",{children:e.desc})]})},e.name)}))})]})})},h=function(e){return Object(j.jsx)(p,{})},x=function(e){var t=c.a.lazy((function(){return n(39)("./".concat(e.year,"/").concat(e.folder))}));return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(j.jsx)(t,{})})},b=function(e){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"".concat(l.a.repo,"/events/:year/:name"),render:function(e){return Object(j.jsx)(x,{year:e.match.params.year,folder:e.match.params.name})}}),Object(j.jsx)(o.a,{strict:!0,path:["".concat(l.a.repo,"/events")],render:function(){return Object(j.jsx)(x,{})}})]})})},f=n(12),v=n(23),O=n(19),g=function(e){var t=Object(r.useState)(null),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)({src:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg",partsX:10,partsY:5,precision:1,isFinished:!1}),i=Object(O.a)(s,2),o=i[0],l=i[1],u={elements:[],setElements:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=function(n){e.elements[n]=[];for(var r=function(r){var c={min:100*-n/t.partsY,max:100-100*(n+1)/t.partsY},a={min:100*-r/t.partsX,max:100-100*(r+1)/t.partsX},s=Math.round(c.min+Math.random()*(c.max-c.min))+"%",i=Math.round(a.min+Math.random()*(a.max-a.min))+"%";e.elements[n]=[].concat(Object(v.a)(e.elements[n]),[{status:!1,element:Object(j.jsx)("img",{src:o.src,alt:"Content error ".concat(n,"/").concat(r),draggable:!1,style:{position:"absolute",display:"block",top:s,left:i,maxHeight:"100%",maxWidth:"100%",zIndex:0,clipPath:"polygon(".concat(100*r/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%, ").concat(100*r/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%)")},onDragStart:function(e){e.preventDefault()},onLoad:function(c){c.target.addEventListener("mousedown",(function a(s){c.target.removeEventListener("mousedown",a);var i=s.currentTarget;i.style.zIndex++;var o=s.currentTarget.clientWidth*(r+.5)/t.partsX,l=s.currentTarget.clientHeight*(n+.5)/t.partsY,d=function(e,t){var n=e-o,r=t-l;return i.style.left=n+"px",i.style.top=r+"px",{x:n,y:r}};u.updateElementStatus([n,r],!1);var m=function(e){d(e.clientX,e.clientY)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",(function s(u){i.style.zIndex--;var j={element:{x:u.clientX-o,y:u.clientY-l},precision:{x:.5*u.target.clientWidth/t.partsX*t.precision,y:.5*u.target.clientHeight/t.partsY*t.precision},getElement:function(){var e=this.element.x*this.element.x+this.element.y*this.element.y;return Math.sqrt(e)},getPrecision:function(){var e=this.precision.x*this.precision.x+this.precision.y*this.precision.y;return Math.sqrt(e)}};if(j.getElement()<=j.getPrecision()){var p=(r+.5)*u.target.clientWidth/t.partsX,h=(n+.5)*u.target.clientHeight/t.partsY;d(p,h),e.updateElementStatus([n,r],!0)}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",s),c.target.addEventListener("mousedown",a)}))}))}},"".concat(n,"/").concat(r))}])},c=0;c<t.partsX;c++)r(c)},r=0;r<t.partsY;r++)n(r)},get:function(){return this.elements.map((function(e){return e.map((function(e){return e.element}))}))},updateElementStatus:function(e,t){this.elements[e[0]][e[1]]=Object(f.a)(Object(f.a)({},this.elements[e[0]][e[1]]),{},{status:t});for(var n=!0,r=0;r<this.elements.length;r++)for(var c=0;c<this.elements[r].length;c++)!1===this.elements[r][c].status&&(n=!1);n&&this.setPassed()},setPassed:function(){var e=Object(j.jsx)("img",{src:o.src,alt:"Content error",style:{maxHeight:"100%",maxWidth:"100%"}});a(e),o.callback&&o.callback()}};return Object(r.useEffect)((function(){l(Object(f.a)(Object(f.a)({},o),e.settings))}),[e]),Object(r.useEffect)((function(){o.isFinished?u.setPassed():(u.setElements(o),a(u.get()))}),[o]),Object(j.jsx)("div",{style:{maxHeight:"inherit",maxWidth:"inherit"},children:c})},y=function(e){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"".concat(l.a.repo,"/puzzle"),render:function(){return Object(j.jsx)(g,{})}}),Object(j.jsx)(o.a,{exact:!0,path:"".concat(l.a.repo,"/about"),render:function(){return Object(j.jsx)(h,{})}}),Object(j.jsx)(o.a,{strict:!0,path:"".concat(l.a.repo,"/events"),render:function(){return Object(j.jsx)(b,{})}}),Object(j.jsx)(o.a,{strict:!0,path:[l.a.repo,"/"],render:function(){return Object(j.jsx)(h,{})}})]})})},E=function(e){return Object(j.jsx)(y,{})};(function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,51)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))})(),s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(o.c,{children:Object(j.jsx)(o.a,{strict:!0,path:["/"],render:function(){return Object(j.jsx)(E,{})}})})})}),document.body)},7:function(e,t,n){"use strict";var r={repo:Object({NODE_ENV:"production",PUBLIC_URL:"/event",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REPO_NAME||"/event"};t.a=r}},[[40,5,6]]]);
//# sourceMappingURL=main.3107b94d.chunk.js.map