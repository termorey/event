(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[1,3,7],{13:function(t,e,a){"use strict";a.r(e);var n=a(44),s=a(45),i=a(42),l=a.n(i),o=a(43),c=a(46),u=a(0),d=a(51),r=a(7),m=a(36),g=a.n(m),h=a(21),f=a(1),p={audio:new Audio||!1,settings:{defaultMuted:!1,defaultVolume:.2,defaultLoop:!0},set:function(t){t=""+t,""===this.audio.src||null===this.audio.src?(this.audio.src=t,this.audio.volume=this.settings.defaultVolume,this.settings=Object(c.a)(Object(c.a)({},this.settings),{},{volume:this.settings.defaultVolume}),this.audio.loop=this.settings.defaultLoop,this.audio.muted=this.settings.defaultMuted,this.audio.play().catch((function(t){return console.log(t)}))):this.audio.src!==t&&this.update(t).catch()},update:function(){var t=Object(o.a)(l.a.mark((function t(e){var a,n,s,i,o,c,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=function(t){return new Promise((function(e){return setTimeout(e,t)}))},n=600,s=this.audio.volume/(.5*n),i=.5*n-1;case 4:if(!(i>=0)){t.next=12;break}return t.next=7,a(1);case 7:o=this.audio.volume-s,this.audio.volume=o<0?0:o;case 9:i--,t.next=4;break;case 12:this.audio.pause(),this.audio.src=e,this.audio.play().catch(),c=0;case 16:if(!(c<=.5*n-1)){t.next=24;break}return t.next=19,a(1);case 19:u=this.audio.volume+s,this.audio.volume=u<=this.settings.volume?u:this.settings.volume;case 21:c++,t.next=16;break;case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),change:{muted:function(t){p.settings.muted=t,p.audio.muted=t},volume:function(t){p.settings.volume=.01*t,p.audio.volume=.01*t,0==t?this.muted(!0):p.settings.muted&&this.muted(!1),console.log(p.settings)}}},b={video:null,settings:{autoPlay:!0,muted:!0,controls:!1,loop:!0},set:function(t){return Object(f.jsx)("video",{muted:t.muted||this.settings.muted,autoPlay:t.autoPlay||this.settings.autoPlay,controls:t.controls||this.settings.controls,loop:t.loop||this.settings.loop,children:Object(f.jsx)("source",{src:t.src,type:"video/".concat(t.format||"mp4")})})}};e.default=function(t){var e=Object(u.useState)([0]),a=Object(s.a)(e,2),i=a[0],l=a[1],o=Object(u.useState)({}),m=Object(s.a)(o,2),j=m[0],x=m[1],v=Object(u.useState)(null),O=Object(s.a)(v,2),y=O[0],_=O[1];Object(u.useEffect)((function(){_(null),h.default[i[i.length-1]].style&&h.default[i[i.length-1]].style.backgroundImage&&x(Object(c.a)(Object(c.a)({},j),{},{style:Object(c.a)(Object(c.a)({},j.style),{},{backgroundImage:'url("'.concat(h.default[i[i.length-1]].style.backgroundImage,'")')})})),h.default[i[i.length-1]].content&&(h.default[i[i.length-1]].content.media&&h.default[i[i.length-1]].content.media.image&&null!==h.default[i[i.length-1]].content.media.image.src&&_(Object(f.jsx)("div",{className:g.a.wrapper,children:Object(f.jsx)("img",{src:h.default[i[i.length-1]].content.media.image.src,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u043e",title:h.default[i[i.length-1]].content.media.image.name?h.default[i[i.length-1]].content.media.image.name:null})})),h.default[i[i.length-1]].content.media&&h.default[i[i.length-1]].content.media.audio&&null!==h.default[i[i.length-1]].content.media.audio.src&&p.set(h.default[i[i.length-1]].content.media.audio.src),h.default[i[i.length-1]].content.media&&h.default[i[i.length-1]].content.media.video&&null!==h.default[i[i.length-1]].content.media.video.src&&_(b.set(h.default[i[i.length-1]].content.media.video)))}),[i]);var k={transition:"opacity ".concat(1500,"ms ease-in-out"),opacity:0},w={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};return Object(f.jsxs)("main",{style:{backgroundImage:j.style&&j.style.backgroundImage&&j.style.backgroundImage},children:[Object(f.jsx)(d.a,{in:y,timeout:1500,children:function(t){return Object(f.jsx)("div",{className:g.a.content,style:Object(c.a)(Object(c.a)({},k),w[t]),children:y&&y})}}),Object(f.jsxs)("div",{className:g.a.cardsList,style:{position:"relative"},children:[h.default[i[i.length-1]].title&&Object(f.jsx)("h3",{children:h.default[i[i.length-1]].title}),h.default[i[i.length-1]].text&&Object(f.jsx)("p",{children:h.default[i[i.length-1]].text}),Object(f.jsxs)("div",{className:g.a.answersList,children:[h.default[i[i.length-1]].answers&&h.default[i[i.length-1]].answers.map((function(t,e){return Object(f.jsx)("button",{onClick:function(){l([].concat(Object(n.a)(i),[t.target]))},children:t.text},e)})),i.length>1&&Object(f.jsx)("button",{onClick:function(){l(i.slice(0,i.length-1))},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]}),Object(f.jsxs)("div",{className:g.a.controls,children:[Object(f.jsx)("a",{href:"".concat(r.a.repo,"/"),children:"home"}),Object(f.jsxs)("div",{className:g.a.sound,children:[Object(f.jsx)("button",{onClick:function(t){var e=!p.settings.muted;p.change.muted(e)},children:"[no.sound/sound]"}),Object(f.jsx)("input",{type:"range",min:0,max:100,defaultValue:100*p.settings.defaultVolume,title:p.settings.muted?"\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430":"".concat(100*p.settings.volume,"/100"),onChange:function(t){p.change.volume(t.target.value),t.target.title=p.settings.muted?"\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430":"".concat(100*p.settings.volume,"/100")}})]})]})]})]})}},21:function(t,e,a){"use strict";a.r(e);e.default={0:{title:null,text:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e, \u0411\u0443\u0440\u0435\u0432\u0435\u0441\u0442\u043d\u0438\u043a!",style:{backgroundImage:"https://allods.mail.ru/images/articles/12_0_announce3_1.jpg"},content:{media:{image:{name:null,src:"https://allods.mail.ru/media/originals/5fca176200fb0.jpg"},audio:{name:null,src:"https://allods.mail.ru/media/mp3/5fc0f46635a27.mp3"}}},answers:[{text:"\u041f\u0440\u0438\u0432\u0435\u0442!",target:1},{text:"\u0414\u043e \u0432\u0441\u0442\u0440\u0435\u0447\u0438!",target:2}]},1:{title:null,text:"\u041f\u0435\u0441\u043a\u0438...",style:{backgroundImage:"https://alloder.pro/uploads/monthly_2020_10/_MLwj6qpyM8.jpg.36d77f7f2b8d4f89e14243174814bed8.jpg"},content:{media:{image:{name:null,src:"https://allods.mail.ru/media/originals/5062d25ed0cb7.jpg"},audio:{name:null,src:"https://allods.mail.ru/media/mp3/5fc0f39911805.mp3"}}},answers:[{text:"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044c\u0441\u044f \u0434\u0430\u043b\u044c\u0448\u0435",target:3},{text:"\u041f\u043e\u043f\u0440\u043e\u0449\u0430\u0442\u044c\u0441\u044f",target:2}]},2:{title:null,text:"\u0414\u043e \u0432\u0441\u0442\u0440\u0435\u0447\u0438...",answers:[]},3:{title:null,text:"\u041b\u0443\u0447\u0448\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f...",answers:[{text:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0448\u0430\u0433 \u0432 \u043c\u0430\u0440\u0435\u0432\u043e",target:4},{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]},4:{title:null,text:"\u0417\u0430\u043f\u043b\u0443\u0442\u0430\u043b?",style:{backgroundImage:"https://allods.mail.ru/media/originals/5fc93d9f0bb8e.jpg"},content:{media:{audio:{src:"https://allods.mail.ru/media/mp3/5fc0f3992f3d5.mp3"}}},answers:[{text:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0449\u0451 \u0448\u0430\u0433",target:5},{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]},5:{text:"\u041f\u0435\u0440\u0435\u0434 \u0432\u0430\u0448\u0438\u043c\u0438 \u0433\u043b\u0430\u0437\u0430\u043c\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u0431\u0438\u0442\u0432\u0430 \u043d\u0435\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u044b\u0445 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043e\u0432.",style:{backgroundImage:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg"},content:{media:{audio:{src:"https://allods.mail.ru/media/mp3/5fc0f02772d9b.mp3"},video:{src:"https://vk.com/doc280095054_615730573?hash=1db79ecef970c96fd0&dl=68d2b9378d067e713d",format:"mp4"}}},answers:[{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0},{text:"\u041f\u043e\u043f\u0440\u043e\u0449\u0430\u0442\u044c\u0441\u044f",target:2}]}}},36:function(t,e,a){t.exports={content:"event1_content__Nmm5f",wrapper:"event1_wrapper__QnViW",cardsList:"event1_cardsList__3mLMf",answersList:"event1_answersList__21KE6",controls:"event1_controls__2Bm9d",sound:"event1_sound__29R7m"}}}]);
//# sourceMappingURL=1.70115020.chunk.js.map