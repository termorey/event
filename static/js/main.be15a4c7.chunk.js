(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[4],{13:function(e,t,n){"use strict";n.r(t);t.default=[{name:"\u041e\u0441\u0435\u043d\u044c 2020",desc:"\u0418\u0432\u0435\u043d\u0442 \u043e\u0441\u0435\u043d\u0438 2020, \u043f\u0440\u0438\u0443\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043a \u0441\u0442\u0430\u0440\u0442\u0443 12.0",href:"/events/2021/event1",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5fca176200fb0.jpg")',color:"white !important"}},{name:"\u0421\u043a\u043e\u0440\u043e",desc:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043d\u0430\u043c\u0435\u0447\u0430\u0435\u0442\u0441\u044f, \u0438 \u0432\u044b, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u0431 \u044d\u0442\u043e\u043c \u0441\u043a\u043e\u0440\u043e \u0443\u0437\u043d\u0430\u0435\u0442\u0435",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5076dc5dac36b.jpg")',color:"white !important"}}]},15:function(e,t,n){e.exports={block:"index_block__2SQ2S",carousel:"index_carousel__34Fi2",element:"index_element__3bGVE"}},23:function(e,t,n){"use strict";n.r(t);var r=n(12),c=n(24),i=n(19),a=n(0),o=n(1);t.default=function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),s=n[0],u=n[1],l=Object(a.useState)({src:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg",partsX:5,partsY:3,precision:1,isFinished:!1}),d=Object(i.a)(l,2),h=d[0],p=d[1],m={elements:[],setElements:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=function(n){e.elements[n]=[];for(var r=function(r){var i=function(e){if(e){var c={top:{min:-n*e.getBoundingClientRect().height/t.partsY,max:e.getBoundingClientRect().height-(n+1)*e.getBoundingClientRect().height/t.partsY},left:{min:-r*e.getBoundingClientRect().width/t.partsX,max:e.getBoundingClientRect().width-(r+1)*e.getBoundingClientRect().width/t.partsX}};return{top:Math.round(c.top.min+Math.random()*(c.top.max-c.top.min))+"px",left:Math.round(c.left.min+Math.random()*(c.left.max-c.left.min))+"px"}}var i={top:{min:100*-n/t.partsY,max:100-100*(n+1)/t.partsY},left:{min:100*-r/t.partsX,max:100-100*(r+1)/t.partsX}};return{top:Math.round(i.top.min+Math.random()*(i.top.max-i.top.min))+"%",left:Math.round(i.left.min+Math.random()*(i.left.max-i.left.min))+"%"}},a={position:"absolute",display:"block",top:i().top,left:i().left,maxHeight:"100%",maxWidth:"100%",zIndex:0,clipPath:"polygon(".concat(100*r/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%, ").concat(100*r/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%)"),transition:".5s",cursor:"pointer"};e.elements[n]=[].concat(Object(c.a)(e.elements[n]),[{status:!1,element:Object(o.jsx)("img",{src:h.src,alt:"Content error ".concat(n,"/").concat(r),draggable:!1,style:a,onDragStart:function(e){e.preventDefault()},onLoad:function(c){var o=c.currentTarget,s=o.parentElement;o.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=i(o);o.style.top=u.top,o.style.left=u.left;var l=function(e){var c=(r+.5)*o.getBoundingClientRect().width/t.partsX,i=(n+.5)*o.getBoundingClientRect().height/t.partsY,a=void 0===e.pageX?e.changedTouches[0].pageX:e.pageX,u=void 0===e.pageY?e.changedTouches[0].pageY:e.pageY;return{x:a-s.getBoundingClientRect().left-c,y:u-s.getBoundingClientRect().top-i}},d=function(e){o.style.left="string"==typeof e.x?e.x:e.x+"px",o.style.top="string"==typeof e.y?e.y:e.y+"px"},h={get:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},result:function(e){var n=.5*(s.getBoundingClientRect().width-o.getBoundingClientRect().width),r=.5*(s.getBoundingClientRect().height-o.getBoundingClientRect().height),c=.5*(o.getBoundingClientRect().width<o.getBoundingClientRect().height?o.getBoundingClientRect().width/t.partsX:o.getBoundingClientRect().height/t.partsY);return t.precision*this.get({x:c,y:c})>=this.get({x:e.x-n,y:e.y-r})}},p=function t(c){o.removeEventListener("mousedown",t),document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),o.removeEventListener("touchstart",t),document.addEventListener("touchmove",m),document.addEventListener("touchend",f);var i=l(c);d(i),e.updateElementStatus([n,r],!1),o.style.opacity=".7",o.style.cursor="move",o.style.zIndex++},m=function(e){o.style.transition="0s";var t=l(e);d(t)},f=function t(c){o.addEventListener("mousedown",p),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",t),o.addEventListener("touchstart",p),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",t);var i=l(c);if(h.result(i)){var u={x:.5*(s.getBoundingClientRect().width-o.getBoundingClientRect().width),y:.5*(s.getBoundingClientRect().height-o.getBoundingClientRect().height)};d({x:u.x,y:u.y}),e.updateElementStatus([n,r],!0)}else d(i);o.style.transition=a.transition,o.style.opacity="1",o.style.cursor=a.cursor,o.style.zIndex--};o.addEventListener("touchstart",p),o.addEventListener("mousedown",p)}},"".concat(n,"/").concat(r))}])},i=0;i<t.partsX;i++)r(i)},r=0;r<t.partsY;r++)n(r)},get:function(){return this.elements.map((function(e){return e.map((function(e){return e.element}))}))},updateElementStatus:function(e,t){this.elements[e[0]][e[1]]=Object(r.a)(Object(r.a)({},this.elements[e[0]][e[1]]),{},{status:t});for(var n=!0,c=0;c<this.elements.length;c++)for(var i=0;i<this.elements[c].length;i++)!1===this.elements[c][i].status&&(n=!1);n&&this.setPassed()},setPassed:function(){var e=Object(o.jsx)("img",{draggable:!1,src:h.src,alt:"Content error",style:{maxHeight:"100%",maxWidth:"100%",padding:"2rem"}});u(e),h.callback&&h.callback()}};return Object(a.useEffect)((function(){p(Object(r.a)(Object(r.a)({},h),e.settings))}),[e]),Object(a.useEffect)((function(){h.isFinished?m.setPassed():(m.setElements(h),u(m.get()))}),[h]),Object(o.jsx)("div",{style:{flex:"1 1 100%",position:"relative",height:"100%",maxHeight:"inherit",width:"inherit",maxWidth:"inherit",overflow:"hidden",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center"},onMouseDown:function(e){return e.preventDefault()},onDoubleClick:function(e){return e.preventDefault()},onContextMenu:function(e){return e.preventDefault()},children:s})}},33:function(e,t,n){},40:function(e,t,n){var r={"./2021/event1":[16,9,1,0],"./2021/event1/":[16,9,1,0],"./2021/event1/components/story":[27,9,2],"./2021/event1/components/story.js":[27,9,2],"./2021/event1/index":[16,9,1,0],"./2021/event1/index.jsx":[16,9,1,0],"./2021/event1/index.module.css":[42,7,7],"./2021/event1/indexContainer":[28,9,1,0,3],"./2021/event1/indexContainer.js":[28,9,1,0,3],"./FolderFrame.png":[43,9,9],"./FolderFrameSelected.png":[44,9,10],"./Frame.png":[45,9,11],"./eventList":[13,9],"./eventList.js":[13,9]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(c,t[1])}))}c.keys=function(){return Object.keys(r)},c.id=40,e.exports=c},41:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(21),a=n.n(i),o=n(8),s=n(2),u=(n(33),n(7)),l=n(15),d=n.n(l),h=n(13),p=n(1),m=function(e){return Object(p.jsx)("main",{children:Object(p.jsxs)("div",{className:d.a.block,children:[Object(p.jsx)("h1",{children:"\u0418\u0432\u0435\u043d\u0442\u044b"}),Object(p.jsx)(o.b,{to:"".concat(u.a.repo,"/puzzle"),children:"Puzzle"}),Object(p.jsx)("div",{className:d.a.carousel,children:h.default.map((function(e){return Object(p.jsx)(o.b,{to:e.href?"".concat(u.a.repo).concat(e.href):"".concat(u.a.repo,"/"),children:Object(p.jsxs)("div",{className:d.a.element,style:e.style&&e.style,children:[Object(p.jsx)("h2",{children:e.name}),Object(p.jsx)("p",{children:e.desc})]})},e.name)}))})]})})},f=function(e){return Object(p.jsx)(m,{})},g=function(e){var t=c.a.lazy((function(){return n(40)("./".concat(e.year,"/").concat(e.folder))}));return Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(p.jsx)(t,{})})},j=function(e){return Object(p.jsx)(o.a,{children:Object(p.jsxs)(s.c,{children:[Object(p.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/events/:year/:name"),render:function(e){return Object(p.jsx)(g,{year:e.match.params.year,folder:e.match.params.name})}}),Object(p.jsx)(s.a,{strict:!0,path:["".concat(u.a.repo,"/events")],render:function(){return Object(p.jsx)(g,{})}})]})})},v=n(23),x=function(e){return Object(p.jsx)(o.a,{children:Object(p.jsxs)(s.c,{children:[Object(p.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/puzzle"),render:function(){return Object(p.jsx)(v.default,{})}}),Object(p.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/about"),render:function(){return Object(p.jsx)(f,{})}}),Object(p.jsx)(s.a,{strict:!0,path:"".concat(u.a.repo,"/events"),render:function(){return Object(p.jsx)(j,{})}}),Object(p.jsx)(s.a,{strict:!0,path:[u.a.repo,"/"],render:function(){return Object(p.jsx)(f,{})}})]})})},b=function(e){return Object(p.jsx)(x,{})};(function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))})(),a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(o.a,{children:Object(p.jsx)(s.c,{children:Object(p.jsx)(s.a,{strict:!0,path:["/"],render:function(){return Object(p.jsx)(b,{})}})})})}),document.body)},7:function(e,t,n){"use strict";var r={repo:Object({NODE_ENV:"production",PUBLIC_URL:"/event",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REPO_NAME||"/event"};t.a=r}},[[41,5,6]]]);
//# sourceMappingURL=main.be15a4c7.chunk.js.map