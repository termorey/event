(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[0,2,7],{16:function(t,e,n){"use strict";n.r(e);var a=n(24),s=n(19),i=n(46),u=n.n(i),c=n(48),o=n(12),l=n(0),r=n.n(l),d=n(53),m=n(7),f=n(42),g=n.n(f),b=n(27),h=n(1),j=function(t){var e=r.a.lazy((function(){return n(49)("./".concat(t.name,"/index"))}));return Object(h.jsx)(l.Suspense,{fallback:Object(h.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(h.jsx)(e,{settings:t.settings})})},x={audio:new Audio||!1,settings:{defaultMuted:!1,defaultVolume:.2,defaultLoop:!0},set:function(t){t=""+t,""===this.audio.src||null===this.audio.src?(this.audio.src=t,this.audio.volume=this.settings.defaultVolume,this.settings=Object(o.a)(Object(o.a)({},this.settings),{},{volume:this.settings.defaultVolume}),this.audio.loop=this.settings.defaultLoop,this.audio.muted=this.settings.defaultMuted,this.audio.play().catch((function(t){return console.log(t)}))):this.audio.src!==t&&this.update(t).catch()},update:function(){var t=Object(c.a)(u.a.mark((function t(e){var n,a,s,i,c,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(t){return new Promise((function(e){return setTimeout(e,t)}))},a=600,s=this.audio.volume/(.5*a),i=.5*a-1;case 4:if(!(i>=0)){t.next=12;break}return t.next=7,n(1);case 7:c=this.audio.volume-s,this.audio.volume=c<0?0:c;case 9:i--,t.next=4;break;case 12:this.audio.pause(),this.audio.src=e,this.audio.play().catch(),o=0;case 16:if(!(o<=.5*a-1)){t.next=24;break}return t.next=19,n(1);case 19:l=this.audio.volume+s,this.audio.volume=l<=this.settings.volume?l:this.settings.volume;case 21:o++,t.next=16;break;case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),change:{muted:function(t){x.settings.muted=t,x.audio.muted=t},volume:function(t){x.settings.volume=.01*t,x.audio.volume=.01*t,0===t?this.muted(!0):x.settings.muted&&this.muted(!1),console.log(x.settings)}}},p={video:null,settings:{autoPlay:!0,muted:!0,controls:!1,loop:!0},set:function(t){return Object(h.jsx)("video",{muted:t.muted||this.settings.muted,autoPlay:t.autoPlay||this.settings.autoPlay,controls:t.controls||this.settings.controls,loop:t.loop||this.settings.loop,children:Object(h.jsx)("source",{src:t.src,type:"video/".concat(t.format||"mp4")})})}};e.default=function(t){var e=Object(l.useState)([0]),n=Object(s.a)(e,2),i=n[0],u=n[1],c=Object(l.useState)({}),r=Object(s.a)(c,2),f=r[0],v=r[1],O=Object(l.useState)(null),y=Object(s.a)(O,2),w=y[0],_=y[1],k=Object(l.useState)(null),L=Object(s.a)(k,2),C=L[0],N=L[1],F=function(t){if(b.default[t].answers.buttons){var e=b.default[t].answers.buttons.map((function(t,e){return Object(h.jsx)("button",{onClick:function(){return u([].concat(Object(a.a)(i),[t.target]))},children:t.text},e)}));N(e)}if(b.default[t].answers.input){var n=b.default[t].answers.input,s=function t(e){var s=[Object(h.jsx)("input",{type:"text",onChange:function(e){return t(e.target.value)},autoFocus:!0,defaultValue:e})];n.forEach((function(t){t.answers.includes(e.toLowerCase())&&(s=[].concat(Object(a.a)(s),[Object(h.jsx)("button",{onClick:function(){return u([].concat(Object(a.a)(i),[t.target]))},children:t.text})]))})),void 0!==c&&N(Object(h.jsx)(h.Fragment,{children:s.map((function(t){return t}))}))},c=Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("input",{type:"text",onChange:function(t){return s(t.target.value)},autoFocus:!0})});N(c)}};Object(l.useEffect)((function(){_(null);var t=i[i.length-1];if(b.default[t].style&&b.default[t].style.backgroundImage&&v(Object(o.a)(Object(o.a)({},f),{},{style:Object(o.a)(Object(o.a)({},f.style),{},{backgroundImage:'url("'.concat(b.default[t].style.backgroundImage,'")')})})),b.default[t].content)if(b.default[t].content.module){var e=Object(o.a)(Object(o.a)({isFinished:!1},b.default[t].content.module.settings),{},{callback:function(){!function(t,e){t[e].content.module=Object(o.a)(Object(o.a)({},t[e].content.module),{},{settings:Object(o.a)(Object(o.a)({},t[e].content.module.settings),{},{isFinished:!0})})}(b.default,t),F(t)}});_(Object(h.jsx)(j,{name:b.default[t].content.module.name,settings:e}))}else b.default[t].content.media&&(b.default[t].content.media&&b.default[t].content.media.image&&b.default[t].content.media.image.src&&null!==b.default[t].content.media.image.src&&_(Object(h.jsx)("div",{className:g.a.wrapper,children:Object(h.jsx)("img",{src:b.default[t].content.media.image.src,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u043e",title:b.default[t].content.media.image.name?b.default[t].content.media.image.name:null})})),b.default[t].content.media&&b.default[t].content.media.audio&&b.default[t].content.media.audio.src&&null!==b.default[t].content.media.audio.src&&x.set(b.default[t].content.media.audio.src),b.default[t].content.media&&b.default[t].content.media.video&&b.default[t].content.media.video.src&&null!==b.default[t].content.media.video.src&&_(p.set(b.default[t].content.media.video)));b.default[t].answers&&(b.default[t].content&&b.default[t].content.module?N(null):F(t))}),[i]);var I={transition:"opacity ".concat(1500,"ms ease-in-out"),opacity:0},P={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};return Object(h.jsxs)("main",{style:{backgroundImage:f.style&&f.style.backgroundImage&&f.style.backgroundImage},children:[Object(h.jsx)(d.a,{in:w,timeout:1500,children:function(t){return Object(h.jsx)("div",{className:g.a.content,style:Object(o.a)(Object(o.a)({},I),P[t]),children:w&&w})}}),Object(h.jsxs)("div",{className:g.a.cardsList,style:{position:"relative"},children:[b.default[i[i.length-1]].title&&Object(h.jsx)("h3",{children:b.default[i[i.length-1]].title}),b.default[i[i.length-1]].text&&Object(h.jsx)("p",{children:b.default[i[i.length-1]].text}),Object(h.jsxs)("div",{className:g.a.answersList,children:[C,i.length>1&&Object(h.jsx)("button",{onClick:function(){u(i.slice(0,i.length-1))},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]}),Object(h.jsxs)("div",{className:g.a.controls,children:[Object(h.jsx)("a",{href:"".concat(m.a.repo,"/"),children:"\u0414\u043e\u043c\u043e\u0439"}),Object(h.jsxs)("div",{className:g.a.sound,children:[Object(h.jsx)("button",{onClick:function(t){var e=!x.settings.muted;x.change.muted(e)},children:"[no.sound/sound]"}),Object(h.jsx)("input",{type:"range",min:0,max:100,defaultValue:100*x.settings.defaultVolume,title:x.settings.muted?"\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430":"".concat(100*x.settings.volume,"/100"),onChange:function(t){x.change.volume(t.target.value),t.target.title=x.settings.muted?"\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430":"".concat(100*x.settings.volume,"/100")}})]})]})]})]})}},27:function(t,e,n){"use strict";n.r(e);e.default={0:{title:null,text:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e, \u0411\u0443\u0440\u0435\u0432\u0435\u0441\u0442\u043d\u0438\u043a! \u0412\u0437\u0433\u043b\u044f\u043d\u0438 \u043d\u0430 \u044d\u0442\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b. \u041e\u043d\u0438 \u0432\u0441\u0435 \u0432\u0435\u0434\u0443\u0442 \u043d\u0430 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b-\u043f\u0440\u0438\u043c\u0435\u0440\u044b",style:{},content:{media:{image:{},audio:{}}},answers:{buttons:[{text:"(\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u043d\u0430)",target:1},{text:"(\u041a\u043e\u043d\u0442\u0435\u043d\u0442-\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435)",target:2},{text:"(\u041a\u043e\u043d\u0442\u0435\u043d\u0442-\u0430\u0443\u0434\u0438\u043e)",target:3},{text:"(\u041a\u043e\u043d\u0442\u0435\u043d\u0442-\u0432\u0438\u0434\u0435\u043e)",target:4},{text:"(\u041e\u0442\u0432\u0435\u0442 \u0441 \u0432\u0432\u043e\u0434\u043e\u043c)",target:5},{text:"(\u041c\u0438\u043d\u0438\u0433\u0440\u044b: \u043f\u0430\u0437\u043b)",target:6}]}},1:{title:null,text:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u043d\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0435",style:{backgroundImage:"https://alloder.pro/uploads/monthly_2020_10/_MLwj6qpyM8.jpg.36d77f7f2b8d4f89e14243174814bed8.jpg"},answers:{buttons:[{text:"\u0414\u0430\u043b\u0435\u0435 (\u041a\u043e\u043d\u0442\u0435\u043d\u0442-\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435)",target:2},{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]}},2:{title:null,text:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432 \u0432\u0438\u0434\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439",content:{media:{image:{name:null,src:"https://allods.mail.ru/media/originals/5fca176200fb0.jpg"}}},answers:{buttons:[{text:"\u0414\u0430\u043b\u0435\u0435 (\u041a\u043e\u043d\u0442\u0435\u043d\u0442-\u0430\u0443\u0434\u0438\u043e)",target:3},{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]}},3:{title:null,text:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432 \u0432\u0438\u0434\u0435 \u0430\u0443\u0434\u0438\u043e. \u0420\u0435\u0433\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043a\u0430 \u0433\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0435 :)",content:{media:{audio:{name:null,src:"https://allods.mail.ru/media/mp3/5fc0f0274583f.mp3"}}},answers:{buttons:[{text:"\u0414\u0430\u043b\u0435\u0435 (\u041a\u043e\u043d\u0442\u0435\u043d\u0442-\u0432\u0438\u0434\u0435\u043e)",target:4},{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]}},4:{title:null,text:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432 \u0432\u0438\u0434\u0435 \u0432\u0438\u0434\u0435\u043e",content:{media:{video:{src:"https://vk.com/doc280095054_615730573?hash=1db79ecef970c96fd0&dl=68d2b9378d067e713d",format:"mp4"}}},answers:{buttons:[{text:"\u0414\u0430\u043b\u0435\u0435 (\u0421\u043e \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0432\u0432\u043e\u0434\u0430)",target:5},{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]}},5:{title:null,text:'\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u0432\u043e\u0434\u0430 \u0441 \u0437\u0430\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u043c\u0438 \u0438 \u0432\u0435\u0442\u0432\u043b\u0435\u043d\u0438\u0435\u043c. \u041a\u043d\u043e\u043f\u043a\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u043d\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0434\u043e \u0432\u0432\u043e\u0434\u0430 \u0432\u0435\u0440\u043d\u043e\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430, \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. P.S. \u0412\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 "\u0414\u0440\u0430\u043a\u043e\u043d\u044b" \u0438\u043b\u0438 "\u042d\u0434\u0435\u043c" \u0438\u043b\u0438 "\u0421\u0442\u0430\u0440\u0435\u0446" (\u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f)',answers:{buttons:[{text:"\u0414\u0430\u043b\u0435\u0435 (\u041f\u0430\u0437\u043b)",target:6}],input:[{answers:["\u0434\u0440\u0430\u043a\u043e\u043d\u044b","\u0441\u0442\u0430\u0440\u0435\u0446"],text:"\u0414\u0430\u043b\u044c\u0448\u0435 #1",target:0},{answers:["\u044d\u0434\u0435\u043c"],text:"\u0414\u0430\u043b\u044c\u0448\u0435 #2",target:0},{answers:["\u0441\u0442\u0430\u0440\u0435\u0446"],text:"\u0414\u0430\u043b\u044c\u0448\u0435 #3",target:0}]}},6:{title:null,text:"\u0412\u043e\u0437\u043c\u043e\u0436\u0435\u043d \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0432 \u0432\u0438\u0434\u0435 \u043c\u0438\u043d\u0438-\u0438\u0433\u0440",content:{module:{name:"puzzle",settings:{src:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg",partsX:3,partsY:3}}},answers:{buttons:[{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}],input:[{answers:["\u0444\u0438\u043d\u0430\u043b"],text:"\u041a \u043d\u0430\u0447\u0430\u043b\u0443",target:0}]}}}},42:function(t,e,n){t.exports={content:"event1_content__Nmm5f",wrapper:"event1_wrapper__QnViW",cardsList:"event1_cardsList__3mLMf",answersList:"event1_answersList__21KE6",controls:"event1_controls__2Bm9d",sound:"event1_sound__29R7m"}},49:function(t,e,n){var a={"./puzzle/index":23};function s(t){return Promise.resolve().then((function(){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n(a[t])}))}s.keys=function(){return Object.keys(a)},s.id=49,t.exports=s}}]);
//# sourceMappingURL=0.c27d3e80.chunk.js.map