(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[4],{13:function(t,e,n){"use strict";n.r(e);e.default=[{name:"\u041e\u0441\u0435\u043d\u044c 2020",desc:"\u0418\u0432\u0435\u043d\u0442 \u043e\u0441\u0435\u043d\u0438 2020, \u043f\u0440\u0438\u0443\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043a \u0441\u0442\u0430\u0440\u0442\u0443 12.0",href:"/events/2021/event1",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5fca176200fb0.jpg")',color:"white !important"}},{name:"\u0421\u043a\u043e\u0440\u043e",desc:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043d\u0430\u043c\u0435\u0447\u0430\u0435\u0442\u0441\u044f, \u0438 \u0432\u044b, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u0431 \u044d\u0442\u043e\u043c \u0441\u043a\u043e\u0440\u043e \u0443\u0437\u043d\u0430\u0435\u0442\u0435",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5076dc5dac36b.jpg")',color:"white !important"}}]},15:function(t,e,n){t.exports={block:"index_block__2SQ2S",carousel:"index_carousel__34Fi2",element:"index_element__3bGVE"}},23:function(t,e,n){"use strict";n.r(e);var r=n(12),i=n(24),c=n(19),a=n(0),o=n(1);e.default=function(t){var e=Object(a.useState)(null),n=Object(c.a)(e,2),s=n[0],l=n[1],u=Object(a.useState)({src:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg",partsX:5,partsY:3,precision:1,isFinished:!1}),d=Object(c.a)(u,2),p=d[0],h=d[1],m={elements:[],setElements:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=function(n){t.elements[n]=[];for(var r=function(r){var c=function(t){if(t){var i={top:{min:-n*t.getBoundingClientRect().height/e.partsY,max:t.getBoundingClientRect().height-(n+1)*t.getBoundingClientRect().height/e.partsY},left:{min:-r*t.getBoundingClientRect().width/e.partsX,max:t.getBoundingClientRect().width-(r+1)*t.getBoundingClientRect().width/e.partsX}};return{top:Math.round(i.top.min+Math.random()*(i.top.max-i.top.min))+"px",left:Math.round(i.left.min+Math.random()*(i.left.max-i.left.min))+"px"}}var c={top:{min:100*-n/e.partsY,max:100-100*(n+1)/e.partsY},left:{min:100*-r/e.partsX,max:100-100*(r+1)/e.partsX}};return{top:Math.round(c.top.min+Math.random()*(c.top.max-c.top.min))+"%",left:Math.round(c.left.min+Math.random()*(c.left.max-c.left.min))+"%"}},a={position:"absolute",display:"block",top:c().top,left:c().left,maxHeight:"100%",maxWidth:"100%",zIndex:0,clipPath:"polygon(".concat(100*r/e.partsX,"% ").concat(100*n/e.partsY,"%, ").concat(100*(r+1)/e.partsX,"% ").concat(100*n/e.partsY,"%, ").concat(100*(r+1)/e.partsX,"% ").concat(100*(n+1)/e.partsY,"%, ").concat(100*r/e.partsX,"% ").concat(100*(n+1)/e.partsY,"%)"),transition:".5s",cursor:"pointer"};t.elements[n]=[].concat(Object(i.a)(t.elements[n]),[{status:!1,element:Object(o.jsx)("img",{src:p.src,alt:"Content error ".concat(n,"/").concat(r),draggable:!1,style:a,onDragStart:function(t){t.preventDefault()},onLoad:function(i){var o=i.currentTarget,s=o.parentElement;o.addEventListener("contextmenu",(function(t){t.preventDefault()}));var l=c(o);o.style.top=l.top,o.style.left=l.left;var u=function(t){var i=(r+.5)*o.getBoundingClientRect().width/e.partsX,c=(n+.5)*o.getBoundingClientRect().height/e.partsY;return{x:t.pageX-s.getBoundingClientRect().left-i,y:t.pageY-s.getBoundingClientRect().top-c}},d=function(t){o.style.left="string"==typeof t.x?t.x:t.x+"px",o.style.top="string"==typeof t.y?t.y:t.y+"px"},p={get:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},result:function(t){s.getBoundingClientRect().width,o.getBoundingClientRect().width,s.getBoundingClientRect().height,o.getBoundingClientRect().height;var n=.5*(o.getBoundingClientRect().width<o.getBoundingClientRect().height?o.getBoundingClientRect().width/e.partsX:o.getBoundingClientRect().height/e.partsY);return e.precision*this.get({x:n,y:n})>=this.get(t)}},h=function e(i){o.removeEventListener("mousedown",e),document.addEventListener("mousemove",m),document.addEventListener("mouseup",f);var c=u(i);d(c),t.updateElementStatus([n,r],!1),o.style.opacity=".7",o.style.cursor="move",o.style.zIndex++},m=function(t){o.style.transition="0s";var e=u(t);d(e)},f=function e(i){o.addEventListener("mousedown",h),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",e);var c=u(i);if(p.result(c)){var l={x:.5*(s.getBoundingClientRect().width-o.getBoundingClientRect().width),y:.5*(s.getBoundingClientRect().height-o.getBoundingClientRect().height)};d({x:l.x,y:l.y}),t.updateElementStatus([n,r],!0)}else d(c);o.style.transition=a.transition,o.style.opacity="1",o.style.cursor=a.cursor,o.style.zIndex--};o.addEventListener("mousedown",h)}},"".concat(n,"/").concat(r))}])},c=0;c<e.partsX;c++)r(c)},r=0;r<e.partsY;r++)n(r)},get:function(){return this.elements.map((function(t){return t.map((function(t){return t.element}))}))},updateElementStatus:function(t,e){this.elements[t[0]][t[1]]=Object(r.a)(Object(r.a)({},this.elements[t[0]][t[1]]),{},{status:e});for(var n=!0,i=0;i<this.elements.length;i++)for(var c=0;c<this.elements[i].length;c++)!1===this.elements[i][c].status&&(n=!1);n&&this.setPassed()},setPassed:function(){var t=Object(o.jsx)("img",{draggable:!1,src:p.src,alt:"Content error",style:{maxHeight:"100%",maxWidth:"100%",padding:"2rem"}});l(t),p.callback&&p.callback()}};return Object(a.useEffect)((function(){h(Object(r.a)(Object(r.a)({},p),t.settings))}),[t]),Object(a.useEffect)((function(){p.isFinished?m.setPassed():(m.setElements(p),l(m.get()))}),[p]),Object(o.jsx)("div",{style:{flex:"1 1 100%",position:"relative",height:"100%",maxHeight:"inherit",width:"inherit",maxWidth:"inherit",overflow:"hidden",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center"},children:s})}},33:function(t,e,n){},40:function(t,e,n){var r={"./2021/event1":[16,9,1,0],"./2021/event1/":[16,9,1,0],"./2021/event1/components/story":[27,9,2],"./2021/event1/components/story.js":[27,9,2],"./2021/event1/index":[16,9,1,0],"./2021/event1/index.jsx":[16,9,1,0],"./2021/event1/index.module.css":[42,7,7],"./2021/event1/indexContainer":[28,9,1,0,3],"./2021/event1/indexContainer.js":[28,9,1,0,3],"./FolderFrame.png":[43,9,9],"./FolderFrameSelected.png":[44,9,10],"./Frame.png":[45,9,11],"./eventList":[13,9],"./eventList.js":[13,9]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(2).map(n.e)).then((function(){return n.t(i,e[1])}))}i.keys=function(){return Object.keys(r)},i.id=40,t.exports=i},41:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),c=n(21),a=n.n(c),o=n(8),s=n(2),l=(n(33),n(7)),u=n(15),d=n.n(u),p=n(13),h=n(1),m=function(t){return Object(h.jsx)("main",{children:Object(h.jsxs)("div",{className:d.a.block,children:[Object(h.jsx)("h1",{children:"\u0418\u0432\u0435\u043d\u0442\u044b"}),Object(h.jsx)(o.b,{to:"".concat(l.a.repo,"/puzzle"),children:"Puzzle"}),Object(h.jsx)("div",{className:d.a.carousel,children:p.default.map((function(t){return Object(h.jsx)(o.b,{to:t.href?"".concat(l.a.repo).concat(t.href):"".concat(l.a.repo,"/"),children:Object(h.jsxs)("div",{className:d.a.element,style:t.style&&t.style,children:[Object(h.jsx)("h2",{children:t.name}),Object(h.jsx)("p",{children:t.desc})]})},t.name)}))})]})})},f=function(t){return Object(h.jsx)(m,{})},g=function(t){var e=i.a.lazy((function(){return n(40)("./".concat(t.year,"/").concat(t.folder))}));return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(h.jsx)(e,{})})},j=function(t){return Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"".concat(l.a.repo,"/events/:year/:name"),render:function(t){return Object(h.jsx)(g,{year:t.match.params.year,folder:t.match.params.name})}}),Object(h.jsx)(s.a,{strict:!0,path:["".concat(l.a.repo,"/events")],render:function(){return Object(h.jsx)(g,{})}})]})})},x=n(23),v=function(t){return Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"".concat(l.a.repo,"/puzzle"),render:function(){return Object(h.jsx)(x.default,{})}}),Object(h.jsx)(s.a,{exact:!0,path:"".concat(l.a.repo,"/about"),render:function(){return Object(h.jsx)(f,{})}}),Object(h.jsx)(s.a,{path:"".concat(l.a.repo,"/events"),render:function(){return Object(h.jsx)(j,{})}}),Object(h.jsx)(s.a,{strict:!0,path:[l.a.repo,"/"],render:function(){return Object(h.jsx)(f,{})}})]})})},b=function(t){return Object(h.jsx)(v,{})};(function(t){t&&t instanceof Function&&n.e(8).then(n.bind(null,52)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),c(t),a(t)}))})(),a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(s.c,{children:Object(h.jsx)(s.a,{strict:!0,path:["/"],render:function(){return Object(h.jsx)(b,{})}})})})}),document.body)},7:function(t,e,n){"use strict";var r={repo:Object({NODE_ENV:"production",PUBLIC_URL:"/event",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REPO_NAME||"/event"};e.a=r}},[[41,5,6]]]);
//# sourceMappingURL=main.6f164538.chunk.js.map