(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[4],{13:function(e,t,n){"use strict";n.r(t);t.default=[{name:"\u041e\u0441\u0435\u043d\u044c 2020",desc:"\u0418\u0432\u0435\u043d\u0442 \u043e\u0441\u0435\u043d\u0438 2020, \u043f\u0440\u0438\u0443\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043a \u0441\u0442\u0430\u0440\u0442\u0443 12.0",href:"/events/2021/event1",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5fca176200fb0.jpg")',color:"white !important"}},{name:"\u0421\u043a\u043e\u0440\u043e",desc:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043d\u0430\u043c\u0435\u0447\u0430\u0435\u0442\u0441\u044f, \u0438 \u0432\u044b, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u0431 \u044d\u0442\u043e\u043c \u0441\u043a\u043e\u0440\u043e \u0443\u0437\u043d\u0430\u0435\u0442\u0435",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5076dc5dac36b.jpg")',color:"white !important"}}]},15:function(e,t,n){e.exports={block:"index_block__2SQ2S",carousel:"index_carousel__34Fi2",element:"index_element__3bGVE"}},23:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n(24),c=n(19),i=n(0),a=n(1);t.default=function(e){var t=Object(i.useState)(null),n=Object(c.a)(t,2),s=n[0],u=n[1],l=Object(i.useState)({src:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg",partsX:5,partsY:3,precision:1,isFinished:!1}),d=Object(c.a)(l,2),h=d[0],p=d[1],m={elements:[],setElements:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=function(n){e.elements[n]=[];for(var r=function(r){var c=function(e){if(e){var o={top:{min:-n*e.getBoundingClientRect().height/t.partsY,max:e.getBoundingClientRect().height-(n+1)*e.getBoundingClientRect().height/t.partsY},left:{min:-r*e.getBoundingClientRect().width/t.partsX,max:e.getBoundingClientRect().width-(r+1)*e.getBoundingClientRect().width/t.partsX}};return{top:Math.round(o.top.min+Math.random()*(o.top.max-o.top.min))+"px",left:Math.round(o.left.min+Math.random()*(o.left.max-o.left.min))+"px"}}var c={top:{min:100*-n/t.partsY,max:100-100*(n+1)/t.partsY},left:{min:100*-r/t.partsX,max:100-100*(r+1)/t.partsX}};return{top:Math.round(c.top.min+Math.random()*(c.top.max-c.top.min))+"%",left:Math.round(c.left.min+Math.random()*(c.left.max-c.left.min))+"%"}},i={position:"absolute",display:"block",top:c().top,left:c().left,maxHeight:"100%",maxWidth:"100%",zIndex:0,clipPath:"polygon(".concat(100*r/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%, ").concat(100*r/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%)"),transition:".5s",cursor:"pointer"};e.elements[n]=[].concat(Object(o.a)(e.elements[n]),[{status:!1,element:Object(a.jsx)("img",{src:h.src,alt:"Content error ".concat(n,"/").concat(r),draggable:!1,style:i,onDragStart:function(e){e.preventDefault()},onLoad:function(o){var a=o.currentTarget,s=a.parentElement;a.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=c(a);a.style.top=u.top,a.style.left=u.left;var l=function(e){var o=(r+.5)*a.getBoundingClientRect().width/t.partsX,c=(n+.5)*a.getBoundingClientRect().height/t.partsY,i=void 0===e.pageX?e.changedTouches[0].pageX:e.pageX,u=void 0===e.pageY?e.changedTouches[0].pageY:e.pageY;return{x:i-s.getBoundingClientRect().left-o,y:u-s.getBoundingClientRect().top-c}},d=function(e){a.style.left="string"==typeof e.x?e.x:e.x+"px",a.style.top="string"==typeof e.y?e.y:e.y+"px"},h={get:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},result:function(e){var n=.5*(s.getBoundingClientRect().width-a.getBoundingClientRect().width),r=.5*(s.getBoundingClientRect().height-a.getBoundingClientRect().height),o=.5*(a.getBoundingClientRect().width<a.getBoundingClientRect().height?a.getBoundingClientRect().width/t.partsX:a.getBoundingClientRect().height/t.partsY);return t.precision*this.get({x:o,y:o})>=this.get({x:e.x-n,y:e.y-r})}},p=function t(o){a.removeEventListener("mousedown",t),document.addEventListener("mousemove",m),document.addEventListener("mouseup",f),a.removeEventListener("touchstart",t),document.addEventListener("touchmove",m),document.addEventListener("touchend",f);var c=l(o);d(c),e.updateElementStatus([n,r],!1),a.style.opacity=".7",a.style.cursor="move",a.style.zIndex++},m=function(e){a.style.transition="0s";var t=l(e);d(t)},f=function t(o){a.addEventListener("mousedown",p),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",t),a.addEventListener("touchstart",p),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",t);var c=l(o);if(h.result(c)){var u={x:.5*(s.getBoundingClientRect().width-a.getBoundingClientRect().width),y:.5*(s.getBoundingClientRect().height-a.getBoundingClientRect().height)};d({x:u.x,y:u.y}),e.updateElementStatus([n,r],!0)}else d(c);a.style.transition=i.transition,a.style.opacity="1",a.style.cursor=i.cursor,a.style.zIndex--};a.addEventListener("touchstart",p),a.addEventListener("mousedown",p)}},"".concat(n,"/").concat(r))}])},c=0;c<t.partsX;c++)r(c)},r=0;r<t.partsY;r++)n(r)},get:function(){return this.elements.map((function(e){return e.map((function(e){return e.element}))}))},updateElementStatus:function(e,t){this.elements[e[0]][e[1]]=Object(r.a)(Object(r.a)({},this.elements[e[0]][e[1]]),{},{status:t});for(var n=!0,o=0;o<this.elements.length;o++)for(var c=0;c<this.elements[o].length;c++)!1===this.elements[o][c].status&&(n=!1);n&&this.setPassed()},setPassed:function(){var e=Object(a.jsx)("img",{draggable:!1,src:h.src,alt:"Content error",style:{maxHeight:"100%",maxWidth:"100%",padding:"2rem"}});u(e),h.callback&&h.callback()}};Object(i.useEffect)((function(){p(Object(r.a)(Object(r.a)({},h),e.settings))}),[e]),Object(i.useEffect)((function(){h.isFinished?m.setPassed():(m.setElements(h),u(m.get()))}),[h]);var f=function(e){e.preventDefault()};return Object(a.jsx)("div",{style:{flex:"1 1 100%",position:"relative",height:"100%",maxHeight:"inherit",width:"inherit",maxWidth:"inherit",overflow:"hidden",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center"},draggable:!1,onMouseDown:function(e){return e.preventDefault()},onDoubleClick:function(e){return e.preventDefault()},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},onDrag:function(e){return e.preventDefault()},onTouchStart:function(e){f(e),document.body.addEventListener("touchmove",f)},onTouchMove:function(e){return f(e)},onTouchEnd:function(e){document.body.removeEventListener("touchmove",f)},children:s})}},33:function(e,t,n){},40:function(e,t,n){var r={"./2021/event1":[16,9,1,0],"./2021/event1/":[16,9,1,0],"./2021/event1/components/story":[27,9,2],"./2021/event1/components/story.js":[27,9,2],"./2021/event1/index":[16,9,1,0],"./2021/event1/index.jsx":[16,9,1,0],"./2021/event1/index.module.css":[42,7,7],"./2021/event1/indexContainer":[28,9,1,0,3],"./2021/event1/indexContainer.js":[28,9,1,0,3],"./FolderFrame.png":[43,9,9],"./FolderFrameSelected.png":[44,9,10],"./Frame.png":[45,9,11],"./eventList":[13,9],"./eventList.js":[13,9]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,t[1])}))}o.keys=function(){return Object.keys(r)},o.id=40,e.exports=o},41:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(21),i=n.n(c),a=n(8),s=n(2),u=(n(33),n(7)),l=n(15),d=n.n(l),h=n(13),p=n(1),m=function(e){return Object(p.jsx)("main",{children:Object(p.jsxs)("div",{className:d.a.block,children:[Object(p.jsx)("h1",{children:"\u0418\u0432\u0435\u043d\u0442\u044b"}),Object(p.jsx)(a.b,{to:"".concat(u.a.repo,"/puzzle"),children:"Puzzle"}),Object(p.jsx)("div",{className:d.a.carousel,children:h.default.map((function(e){return Object(p.jsx)(a.b,{to:e.href?"".concat(u.a.repo).concat(e.href):"".concat(u.a.repo,"/"),children:Object(p.jsxs)("div",{className:d.a.element,style:e.style&&e.style,children:[Object(p.jsx)("h2",{children:e.name}),Object(p.jsx)("p",{children:e.desc})]})},e.name)}))})]})})},f=function(e){return Object(p.jsx)(m,{})},g=function(e){var t=o.a.lazy((function(){return n(40)("./".concat(e.year,"/").concat(e.folder))}));return Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(p.jsx)(t,{})})},v=function(e){return Object(p.jsx)(a.a,{children:Object(p.jsxs)(s.c,{children:[Object(p.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/events/:year/:name"),render:function(e){return Object(p.jsx)(g,{year:e.match.params.year,folder:e.match.params.name})}}),Object(p.jsx)(s.a,{strict:!0,path:["".concat(u.a.repo,"/events")],render:function(){return Object(p.jsx)(g,{})}})]})})},j=n(23),x=function(e){return Object(p.jsx)(a.a,{children:Object(p.jsxs)(s.c,{children:[Object(p.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/puzzle"),render:function(){return Object(p.jsx)(j.default,{})}}),Object(p.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/about"),render:function(){return Object(p.jsx)(f,{})}}),Object(p.jsx)(s.a,{strict:!0,path:"".concat(u.a.repo,"/events"),render:function(){return Object(p.jsx)(v,{})}}),Object(p.jsx)(s.a,{strict:!0,path:[u.a.repo,"/"],render:function(){return Object(p.jsx)(f,{})}})]})})},b=function(e){return Object(p.jsx)(x,{})};(function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),c(e),i(e)}))})(),i.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(a.a,{children:Object(p.jsx)(s.c,{children:Object(p.jsx)(s.a,{strict:!0,path:["/"],render:function(){return Object(p.jsx)(b,{})}})})})}),document.body)},7:function(e,t,n){"use strict";var r={repo:Object({NODE_ENV:"production",PUBLIC_URL:"/event",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REPO_NAME||"/event"};t.a=r}},[[41,5,6]]]);
//# sourceMappingURL=main.21490f13.chunk.js.map