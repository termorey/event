(this.webpackJsonpevent=this.webpackJsonpevent||[]).push([[4],{13:function(e,t,n){"use strict";n.r(t);t.default=[{name:"\u041e\u0441\u0435\u043d\u044c 2020",desc:"\u0418\u0432\u0435\u043d\u0442 \u043e\u0441\u0435\u043d\u0438 2020, \u043f\u0440\u0438\u0443\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439 \u043a \u0441\u0442\u0430\u0440\u0442\u0443 12.0",href:"/events/2021/event1",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5fca176200fb0.jpg")',color:"white !important"}},{name:"\u0421\u043a\u043e\u0440\u043e",desc:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043d\u0430\u043c\u0435\u0447\u0430\u0435\u0442\u0441\u044f, \u0438 \u0432\u044b, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u0431 \u044d\u0442\u043e\u043c \u0441\u043a\u043e\u0440\u043e \u0443\u0437\u043d\u0430\u0435\u0442\u0435",style:{backgroundImage:'url("https://allods.mail.ru/media/originals/5076dc5dac36b.jpg")',color:"white !important"}}]},15:function(e,t,n){e.exports={block:"index_block__2SQ2S",carousel:"index_carousel__34Fi2",element:"index_element__3bGVE"}},23:function(e,t,n){"use strict";n.r(t);var r=n(12),i=n(24),c=n(19),a=n(0),o=n(1);t.default=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),s=n[0],u=n[1],l=Object(a.useState)({src:"https://allods.mail.ru/media/originals/5fca168ceae6e.jpg",partsX:5,partsY:3,precision:1,isFinished:!1}),d=Object(c.a)(l,2),p=d[0],h=d[1],m={elements:[],setElements:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=function(n){e.elements[n]=[];for(var r=function(r){var c=function(e){if(e){var i={top:{min:-n*e.getBoundingClientRect().height/t.partsY,max:e.getBoundingClientRect().height-(n+1)*e.getBoundingClientRect().height/t.partsY},left:{min:-r*e.getBoundingClientRect().width/t.partsX,max:e.getBoundingClientRect().width-(r+1)*e.getBoundingClientRect().width/t.partsX}};return{top:Math.round(i.top.min+Math.random()*(i.top.max-i.top.min))+"px",left:Math.round(i.left.min+Math.random()*(i.left.max-i.left.min))+"px"}}var c={top:{min:100*-n/t.partsY,max:100-100*(n+1)/t.partsY},left:{min:100*-r/t.partsX,max:100-100*(r+1)/t.partsX}};return{top:Math.round(c.top.min+Math.random()*(c.top.max-c.top.min))+"%",left:Math.round(c.left.min+Math.random()*(c.left.max-c.left.min))+"%"}},a="polygon(".concat(100*r/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*n/t.partsY,"%, ").concat(100*(r+1)/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%, ").concat(100*r/t.partsX,"% ").concat(100*(n+1)/t.partsY,"%)"),s={position:"absolute",display:"block",top:c().top,left:c().left,maxHeight:"100%",maxWidth:"100%",zIndex:0,clipPath:a,webkitClipPath:a,transition:".5s",cursor:"pointer"};e.elements[n]=[].concat(Object(i.a)(e.elements[n]),[{status:!1,element:Object(o.jsx)("img",{src:p.src,alt:"Content error ".concat(n,"/").concat(r),draggable:!1,style:s,onDragStart:function(e){e.preventDefault()},onLoad:function(i){var a=i.currentTarget,o=a.parentElement;a.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=c(a);a.style.top=u.top,a.style.left=u.left;var l=function(e){var i=(r+.5)*a.getBoundingClientRect().width/t.partsX,c=(n+.5)*a.getBoundingClientRect().height/t.partsY,s=void 0===e.pageX?e.changedTouches[0].pageX:e.pageX,u=void 0===e.pageY?e.changedTouches[0].pageY:e.pageY;return{x:s-o.getBoundingClientRect().left-i,y:u-o.getBoundingClientRect().top-c}},d=function(e){a.style.left="string"==typeof e.x?e.x:e.x+"px",a.style.top="string"==typeof e.y?e.y:e.y+"px"},p={get:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},result:function(e){var n=.5*(o.getBoundingClientRect().width-a.getBoundingClientRect().width),r=.5*(o.getBoundingClientRect().height-a.getBoundingClientRect().height),i=.5*(a.getBoundingClientRect().width<a.getBoundingClientRect().height?a.getBoundingClientRect().width/t.partsX:a.getBoundingClientRect().height/t.partsY);return t.precision*this.get({x:i,y:i})>=this.get({x:e.x-n,y:e.y-r})}},h=function t(i){i.stopPropagation(),a.removeEventListener("mousedown",t),document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),a.removeEventListener("touchstart",t),document.addEventListener("touchmove",m),document.addEventListener("touchend",g);var c=l(i);d(c),e.updateElementStatus([n,r],!1),a.style.opacity=".7",a.style.cursor="move",a.style.zIndex++},m=function(e){e.stopPropagation(),a.style.transition="0s";var t=l(e);d(t)},g=function t(i){a.addEventListener("mousedown",h),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",t),a.addEventListener("touchstart",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",t);var c=l(i);if(p.result(c)){var u={x:.5*(o.getBoundingClientRect().width-a.getBoundingClientRect().width),y:.5*(o.getBoundingClientRect().height-a.getBoundingClientRect().height)};d({x:u.x,y:u.y}),e.updateElementStatus([n,r],!0)}else d(c);a.style.transition=s.transition,a.style.opacity="1",a.style.cursor=s.cursor,a.style.zIndex--};a.addEventListener("touchstart",h),a.addEventListener("mousedown",h)}},"".concat(n,"/").concat(r))}])},c=0;c<t.partsX;c++)r(c)},r=0;r<t.partsY;r++)n(r)},get:function(){return this.elements.map((function(e){return e.map((function(e){return e.element}))}))},updateElementStatus:function(e,t){this.elements[e[0]][e[1]]=Object(r.a)(Object(r.a)({},this.elements[e[0]][e[1]]),{},{status:t});for(var n=!0,i=0;i<this.elements.length;i++)for(var c=0;c<this.elements[i].length;c++)!1===this.elements[i][c].status&&(n=!1);n&&this.setPassed()},setPassed:function(){var e=Object(o.jsx)("img",{draggable:!1,src:p.src,alt:"Content error",style:{maxHeight:"100%",maxWidth:"100%",padding:"2rem"}});u(e),p.callback&&p.callback()}};return Object(a.useEffect)((function(){h(Object(r.a)(Object(r.a)({},p),e.settings))}),[e]),Object(a.useEffect)((function(){p.isFinished?m.setPassed():(m.setElements(p),u(m.get()))}),[p]),Object(o.jsx)("div",{style:{flex:"1 1 100%",position:"relative",height:"100%",maxHeight:"inherit",width:"inherit",maxWidth:"inherit",overflow:"hidden",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center"},draggable:!1,onMouseDown:function(e){return e.preventDefault()},onDoubleClick:function(e){return e.preventDefault()},onContextMenu:function(e){return e.preventDefault()},children:s})}},33:function(e,t,n){},40:function(e,t,n){var r={"./2021/event1":[16,9,1,0],"./2021/event1/":[16,9,1,0],"./2021/event1/components/story":[27,9,2],"./2021/event1/components/story.js":[27,9,2],"./2021/event1/index":[16,9,1,0],"./2021/event1/index.jsx":[16,9,1,0],"./2021/event1/index.module.css":[42,7,7],"./2021/event1/indexContainer":[28,9,1,0,3],"./2021/event1/indexContainer.js":[28,9,1,0,3],"./FolderFrame.png":[43,9,9],"./FolderFrameSelected.png":[44,9,10],"./Frame.png":[45,9,11],"./eventList":[13,9],"./eventList.js":[13,9]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(i,t[1])}))}i.keys=function(){return Object.keys(r)},i.id=40,e.exports=i},41:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(21),a=n.n(c),o=n(8),s=n(2),u=(n(33),n(7)),l=n(15),d=n.n(l),p=n(13),h=n(1),m=function(e){return Object(h.jsx)("main",{children:Object(h.jsxs)("div",{className:d.a.block,children:[Object(h.jsx)("h1",{children:"\u0418\u0432\u0435\u043d\u0442\u044b"}),Object(h.jsx)(o.b,{to:"".concat(u.a.repo,"/puzzle"),children:"Puzzle"}),Object(h.jsx)("div",{className:d.a.carousel,children:p.default.map((function(e){return Object(h.jsx)(o.b,{to:e.href?"".concat(u.a.repo).concat(e.href):"".concat(u.a.repo,"/"),children:Object(h.jsxs)("div",{className:d.a.element,style:e.style&&e.style,children:[Object(h.jsx)("h2",{children:e.name}),Object(h.jsx)("p",{children:e.desc})]})},e.name)}))})]})})},g=function(e){return Object(h.jsx)(m,{})},f=function(e){var t=i.a.lazy((function(){return n(40)("./".concat(e.year,"/").concat(e.folder))}));return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(h.jsx)(t,{})})},j=function(e){return Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/events/:year/:name"),render:function(e){return Object(h.jsx)(f,{year:e.match.params.year,folder:e.match.params.name})}}),Object(h.jsx)(s.a,{strict:!0,path:["".concat(u.a.repo,"/events")],render:function(){return Object(h.jsx)(f,{})}})]})})},v=n(23),x=function(e){return Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/puzzle"),render:function(){return Object(h.jsx)(v.default,{})}}),Object(h.jsx)(s.a,{exact:!0,path:"".concat(u.a.repo,"/about"),render:function(){return Object(h.jsx)(g,{})}}),Object(h.jsx)(s.a,{strict:!0,path:"".concat(u.a.repo,"/events"),render:function(){return Object(h.jsx)(j,{})}}),Object(h.jsx)(s.a,{strict:!0,path:[u.a.repo,"/"],render:function(){return Object(h.jsx)(g,{})}})]})})},b=function(e){return Object(h.jsx)(x,{})};(function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))})(),a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(s.c,{children:Object(h.jsx)(s.a,{strict:!0,path:["/"],render:function(){return Object(h.jsx)(b,{})}})})})}),document.body)},7:function(e,t,n){"use strict";var r={repo:Object({NODE_ENV:"production",PUBLIC_URL:"/event",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REPO_NAME||"/event"};t.a=r}},[[41,5,6]]]);
//# sourceMappingURL=main.5413bf12.chunk.js.map